import{_ as e,e as l,r as a,M as t,v as i,f as d,h as n,l as o,j as r,c as p,i as s,k as u,m,g as c,N as h,O as b,b as g,t as v,s as y}from"./index-68f4f231.js";import"./index.es-8b9ca841.js";import{t as f}from"./useTablePage-337a13be.js";const w={class:"scroll-y"},_={class:"mr-3 rowSS"},C=g("查询"),x={class:"block columnCC mt-2"},V={name:"BuyerOrders"},S=e(Object.assign(V,{setup(e){let V=l([]),S=a({state:0,periodType:"",deviceType:"",saleChannel:"",brand:"",showSeller:!1}),T=[{value:0,display:"所有"},{value:1,display:"月卡(30天)"},{value:2,display:"年卡(365天)"}],k=e=>1===e?"月卡(30天)":"年卡(365天)",I=[{value:0,display:"所有"},{value:1,display:"个人(单设备)"},{value:2,display:"家庭(4设备)"}],z=e=>1===e?"个人(单设备)":"家庭(4设备)",P=[{value:0,display:"所有"},{value:1,display:"Web2"},{value:2,display:"Web3"}],j=e=>1===e?"Web2":"Web3",O=[{value:0,display:"全部"},{value:1,display:"待支付"},{value:2,display:"已支付"},{value:3,display:"支付失败"}],F=e=>2==e?"支付成功":3==e?"支付失败":"待支付";t((()=>{U()}));let B=l(1),U=()=>{const e=Object.assign(S,{pageNumber:H.value-1,pageSize:N.value}),l=JSON.parse(JSON.stringify(e));Object.keys(l).forEach((e=>{""!==l[e]&&null!==l[e]&&void 0!==l[e]&&0!==l[e]||delete l[e]})),i({url:"/api/mall3/order",method:"get",data:l,isParams:!0}).then((e=>{var l,a;V.value=null==(l=e.data)?void 0:l.content,B.value=null==(a=e.data)?void 0:a.total}))},{pageNum:H,pageSize:N,handleCurrentChange:W,handleSizeChange:q}=f(U);const R=()=>{H.value=1,U()};return(e,l)=>{const a=d("el-option"),t=d("el-select"),i=d("el-form-item"),f=d("el-input"),A=d("el-form"),D=d("el-button"),J=d("el-table-column"),$=d("el-image"),E=d("el-link"),M=d("el-table"),G=d("el-pagination"),K=d("ViewItem"),L=d("BuyForm");return c(),n("div",w,[o("操作"),r("div",_,[o("条件搜索"),p(A,{ref:"refsearchForm",inline:!0,class:"demo-searchForm ml-2"},{default:s((()=>[p(i,{"label-width":"0px",label:"",prop:"state","label-position":"left"},{default:s((()=>[p(t,{modelValue:u(S).state,"onUpdate:modelValue":l[0]||(l[0]=e=>u(S).state=e),class:"widthPx-150",placeholder:"订单状态"},{default:s((()=>[(c(!0),n(h,null,b(u(O),(e=>(c(),m(a,{key:e.value,label:e.display,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(i,{"label-width":"0px",label:"",prop:"type","label-position":"left"},{default:s((()=>[p(f,{modelValue:u(S).brand,"onUpdate:modelValue":l[1]||(l[1]=e=>u(S).brand=e),placeholder:"品牌"},null,8,["modelValue"])])),_:1}),p(i,{"label-width":"0px",label:"",prop:"type","label-position":"left"},{default:s((()=>[p(t,{modelValue:u(S).deviceType,"onUpdate:modelValue":l[2]||(l[2]=e=>u(S).deviceType=e),class:"widthPx-150",placeholder:"设备类型"},{default:s((()=>[(c(!0),n(h,null,b(u(I),(e=>(c(),m(a,{key:e.value,label:e.display,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(i,{"label-width":"0px",label:"",prop:"type","label-position":"left"},{default:s((()=>[p(t,{modelValue:u(S).periodType,"onUpdate:modelValue":l[3]||(l[3]=e=>u(S).periodType=e),class:"widthPx-150",placeholder:"周期类型"},{default:s((()=>[(c(!0),n(h,null,b(u(T),(e=>(c(),m(a,{key:e.value,label:e.display,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(i,{"label-width":"0px",label:"",prop:"type","label-position":"left"},{default:s((()=>[p(t,{modelValue:u(S).saleChannel,"onUpdate:modelValue":l[4]||(l[4]=e=>u(S).saleChannel=e),class:"widthPx-150",placeholder:"销售渠道"},{default:s((()=>[(c(!0),n(h,null,b(u(P),(e=>(c(),m(a,{key:e.value,label:e.display,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},512),o("查询按钮"),p(D,{type:"primary",onClick:R},{default:s((()=>[C])),_:1})]),o("表格和分页"),p(M,{id:"mainTable",ref:"mainTable",height:`calc(100vh - ${u(y).delWindowHeight})`,border:"",data:u(V)},{default:s((()=>[p(J,{align:"center",prop:"id",label:"订单Id",width:"80"}),p(J,{align:"center",label:"订单状态",width:"100"},{default:s((({row:e})=>[g(v(u(F)(e.state)),1)])),_:1}),p(J,{align:"center",prop:"goodsId",label:"商品Id",width:"80"}),p(J,{align:"center",prop:"name",label:"商品名称","min-width":"140"}),p(J,{align:"center",prop:"sellerId",label:"卖家ID",width:"80"}),p(J,{align:"center",prop:"seller.name",label:"卖家名称",width:"100"}),p(J,{align:"center",prop:"count",label:"购买数目",width:"90"}),p(J,{align:"center",prop:"payAmount",label:"金额",width:"100"}),p(J,{align:"center",prop:"paidAmount",label:"支付金额",width:"100"}),p(J,{align:"center",prop:"gasAmount",label:"手续费",width:"80"}),p(J,{align:"center",prop:"createTime",label:"创建时间",width:"100"}),p(J,{align:"center",prop:"payTime",label:"支付时间",width:"100"}),p(J,{align:"center",prop:"brand",label:"品牌",width:"80"}),p(J,{align:"center",prop:"image",label:"商品图片","min-width":"120"},{default:s((({row:e})=>[p($,{style:{width:"60px",height:"60px"},src:e.image},null,8,["src"])])),_:1}),p(J,{align:"center",label:"设备类型",width:"100"},{default:s((({row:e})=>[g(v(u(z)(e.deviceType)),1)])),_:1}),p(J,{align:"center",label:"周期类型",width:"100"},{default:s((({row:e})=>[g(v(u(k)(e.periodType)),1)])),_:1}),p(J,{align:"center",label:"销售渠道",width:"100"},{default:s((({row:e})=>[g(v(u(j)(e.saleChannel)),1)])),_:1}),p(J,{align:"center",label:"交易ID","min-width":"120"},{default:s((({row:e})=>[p(E,{href:`https://goerli.etherscan.io/tx/${e.txId}`,target:"_blank",type:"primary"},{default:s((()=>[g(v(e.txId),1)])),_:2},1032,["href"])])),_:1})])),_:1},8,["height","data"]),o("分页"),r("div",x,[p(G,{"current-page":u(H),"page-sizes":[10,20,50,100],"page-size":u(N),layout:"total, sizes, prev, pager, next, jumper",total:u(B),onSizeChange:u(q),onCurrentChange:u(W)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),e.showItemViewForm?(c(),m(K,{key:0,ref:"refItemViewForm",onHideComp:e.hideComp,onSelectPageReq:u(U)},null,8,["onHideComp","onSelectPageReq"])):o("v-if",!0),e.showBuyForm?(c(),m(L,{key:1,ref:"refBuyForm",onHideComp:e.hideBuyComp,onSelectPageReq:u(U)},null,8,["onHideComp","onSelectPageReq"])):o("v-if",!0)])}}}),[["__scopeId","data-v-3e5cc111"],["__file","/Users/liuzhaoming/百度云同步盘/mac同步/project/valor/web3/mall/mall3-web/src/views/buyer/order/BuyerOrders.vue"]]);export{S as default};
